<!DOCTYPE html>
<html>
    <head>
        <title>Бэкэнд</title>
        <meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="/task.css" />
    </head>
    <body>
        <div id="main">
            <div class="publication">
                <code>index.php</code>
            </div>
            <div class="publication">
                <code>
                    &lt;?php<br /><br />

                    echo 'привет';<br /><br />

                    ?&gt;
                </code>
            </div>
            <div class="publication">
                <code>
                    &lt;html&gt;<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta charset=&quot;utf-8&quot; /&gt;<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br /><br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br />
                    &lt;/html&gt;
                </code>
            </div>
            <div class="publication">
                Форму создаём внутри <code>&lt;body&gt;</code>:
                <p>
                    <code>
                        &lt;form action=&quot;/&quot; method=&quot;post&quot;&gt;<br /><br />
                        &lt;/form&gt;
                    </code>
                </p>
            </div>
            <div class="publication">
                <code>
                    Ваше сообщение:&lt;br /&gt;<br />
                    &lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;
                </code>
            </div>
            <div class="publication">
                <code>
                    &lt;p&gt;<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;submit&quot; value=&quot;Сохранить&quot; /&gt;<br />
                    &lt;/p&gt;
                </code>
            </div>
            <div class="publication">
                Это пишем ПЕРЕД тегом <code>&lt;html&gt;</code>:
                <p>
                    <code>
                        &lt;?php<br /><br />
                        ?&gt;
                    </code>
                </p>
            </div>
            <div class="publication">
                А это пишем ВНУТРИ <code>&lt;?php ?&gt;</code>:
                <p>
                    <code>
                        if (isset($_POST['message'])) {<br /><br />
                        }
                    </code>
                </p>
            </div>
            <div class="publication">
                <code>
                    file_put_contents('messages.txt', $_POST['message'] . '&lt;br /&gt;', FILE_APPEND);
                </code>
                <p>
                    Метод записывает в файл какое-то содержимое. Параметры метода:
                    <code>file_put_contents(название_файла, текст_содержимого, дополнительные_параметры);</code>
                </p>
            </div>
            <div class="publication">
                Добавляем после <code>&lt;/form&gt;</code>:
                <p>
                    <code>
                        &lt;?php echo file_get_contents('messages.txt'); ?&gt;
                    </code>
                </p>
                <p>
                    Метод считывает из файла содержимое. Параметры метода:
                    <code>file_get_contents(название_файла);</code>
                </p>
            </div>
        </div>
        <script type="text/javascript">
            document.querySelectorAll('.publication').forEach(element => element.addEventListener('click', (event) => {
                

                fetch('https://meme.mrbaco.ru/api/publications/index.php', {
                    method: 'POST',
                    body: JSON.stringify({
                        'publication': event.target.innerHTML
                    })
                }).then(r => {
                    if (r.status == 201) {
                        event.target.style.backgroundColor = '#E9FFB2';
                    }
                });
            }));
        </script>
    </body>
</html>